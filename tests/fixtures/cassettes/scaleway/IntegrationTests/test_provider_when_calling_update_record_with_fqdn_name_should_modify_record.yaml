interactions:
- request:
    body: 'null'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '4'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: https://api.scaleway.com/domain/v2beta1/dns-zones/example.com/records
  response:
    body:
      string: '{"total_count":19,"records":[{"id":"8c1f9e92-8b3e-45bb-b02f-3d7b79d26fb7","data":"ns0.dom.scw.cloud.","name":"","priority":0,"ttl":1800,"type":"NS","comment":null},{"id":"99f36c78-379a-49aa-bd9e-c31729cb7835","data":"ns1.dom.scw.cloud.","name":"","priority":0,"ttl":1800,"type":"NS","comment":null},{"id":"fd69310f-9eca-4b15-8249-5df208bac537","data":"\"challengetoken2\"","name":"_acme-challenge.createrecordset","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"3f5f1a92-c9e1-4e1d-a880-8e97624302a2","data":"\"challengetoken1\"","name":"_acme-challenge.createrecordset","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"dbd0420f-f1cb-4d60-832f-5f5a047d5813","data":"\"challengetoken2\"","name":"_acme-challenge.deleterecordinset","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"59a85922-293f-41dc-9335-3fcbb2a37d41","data":"\"challengetoken\"","name":"_acme-challenge.fqdn","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"3fd6c397-186b-4d6a-a05f-4d570776e7d9","data":"\"challengetoken\"","name":"_acme-challenge.full.example.com","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"49bf9db6-d7db-47f9-b31a-ecdc6d587633","data":"\"challengetoken1\"","name":"_acme-challenge.listrecordset","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"1eef9f9f-48bf-41de-892d-b3378d3927f5","data":"\"challengetoken2\"","name":"_acme-challenge.listrecordset","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"63d4bddb-ac82-4028-831b-54d06831108a","data":"\"challengetoken\"","name":"_acme-challenge.noop","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"f9ebaf3b-6483-478e-8abd-45107f967cea","data":"\"challengetoken\"","name":"_acme-challenge.test","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"e7bc35b1-eedd-4a31-95c4-462dfca87975","data":"docs.example.com.example.com.","name":"docs","priority":0,"ttl":3600,"type":"CNAME","comment":null},{"id":"f1a347f3-1435-432f-84ae-e3bc381e0b1b","data":"127.0.0.1","name":"localhost","priority":0,"ttl":3600,"type":"A","comment":null},{"id":"bc4a585d-b962-4177-8dca-559e044d7b1e","data":"\"updated\"","name":"orig.nameonly.test","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"15a30fdf-b653-4866-ba4a-f3c8c0ec7ad6","data":"\"challengetoken\"","name":"random.fqdntest","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"5cdc2e97-c20d-4c50-baff-80cef0c9a222","data":"\"challengetoken\"","name":"random.fulltest.example.com","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"52d2cfdb-fe45-40b2-8d09-33904d9657c8","data":"\"challengetoken\"","name":"random.test","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"f0bb05e9-2aa3-4e6a-9dd0-b4a7d660957c","data":"\"ttlshouldbe3600\"","name":"ttl.fqdn","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"2de6fdf4-8904-4452-8884-9617b0eeee68","data":"\"challengetoken\"","name":"updated.test","priority":0,"ttl":3600,"type":"TXT","comment":null}]}'
    headers:
      content-length:
      - '2959'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      date:
      - Wed, 19 Feb 2025 20:30:15 GMT
      server:
      - Scaleway API Gateway (fr-par-3;edge03)
      strict-transport-security:
      - max-age=63072000
      x-content-type-options:
      - nosniff
      x-frame-options:
      - DENY
      x-request-id:
      - 24c7a3f3-3b27-4c1c-a4b4-78783a0f6a83
    status:
      code: 200
      message: OK
- request:
    body: 'null'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '4'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: https://api.scaleway.com/domain/v2beta1/dns-zones/example.com/records
  response:
    body:
      string: '{"total_count":19,"records":[{"id":"8c1f9e92-8b3e-45bb-b02f-3d7b79d26fb7","data":"ns0.dom.scw.cloud.","name":"","priority":0,"ttl":1800,"type":"NS","comment":null},{"id":"99f36c78-379a-49aa-bd9e-c31729cb7835","data":"ns1.dom.scw.cloud.","name":"","priority":0,"ttl":1800,"type":"NS","comment":null},{"id":"fd69310f-9eca-4b15-8249-5df208bac537","data":"\"challengetoken2\"","name":"_acme-challenge.createrecordset","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"3f5f1a92-c9e1-4e1d-a880-8e97624302a2","data":"\"challengetoken1\"","name":"_acme-challenge.createrecordset","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"dbd0420f-f1cb-4d60-832f-5f5a047d5813","data":"\"challengetoken2\"","name":"_acme-challenge.deleterecordinset","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"59a85922-293f-41dc-9335-3fcbb2a37d41","data":"\"challengetoken\"","name":"_acme-challenge.fqdn","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"3fd6c397-186b-4d6a-a05f-4d570776e7d9","data":"\"challengetoken\"","name":"_acme-challenge.full.example.com","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"49bf9db6-d7db-47f9-b31a-ecdc6d587633","data":"\"challengetoken1\"","name":"_acme-challenge.listrecordset","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"1eef9f9f-48bf-41de-892d-b3378d3927f5","data":"\"challengetoken2\"","name":"_acme-challenge.listrecordset","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"63d4bddb-ac82-4028-831b-54d06831108a","data":"\"challengetoken\"","name":"_acme-challenge.noop","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"f9ebaf3b-6483-478e-8abd-45107f967cea","data":"\"challengetoken\"","name":"_acme-challenge.test","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"e7bc35b1-eedd-4a31-95c4-462dfca87975","data":"docs.example.com.example.com.","name":"docs","priority":0,"ttl":3600,"type":"CNAME","comment":null},{"id":"f1a347f3-1435-432f-84ae-e3bc381e0b1b","data":"127.0.0.1","name":"localhost","priority":0,"ttl":3600,"type":"A","comment":null},{"id":"bc4a585d-b962-4177-8dca-559e044d7b1e","data":"\"updated\"","name":"orig.nameonly.test","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"15a30fdf-b653-4866-ba4a-f3c8c0ec7ad6","data":"\"challengetoken\"","name":"random.fqdntest","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"5cdc2e97-c20d-4c50-baff-80cef0c9a222","data":"\"challengetoken\"","name":"random.fulltest.example.com","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"52d2cfdb-fe45-40b2-8d09-33904d9657c8","data":"\"challengetoken\"","name":"random.test","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"f0bb05e9-2aa3-4e6a-9dd0-b4a7d660957c","data":"\"ttlshouldbe3600\"","name":"ttl.fqdn","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"2de6fdf4-8904-4452-8884-9617b0eeee68","data":"\"challengetoken\"","name":"updated.test","priority":0,"ttl":3600,"type":"TXT","comment":null}]}'
    headers:
      content-length:
      - '2959'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      date:
      - Wed, 19 Feb 2025 20:30:16 GMT
      server:
      - Scaleway API Gateway (fr-par-3;edge02)
      strict-transport-security:
      - max-age=63072000
      x-content-type-options:
      - nosniff
      x-frame-options:
      - DENY
      x-request-id:
      - 81a395cb-b0cf-446d-8398-5273ba03fc6d
    status:
      code: 200
      message: OK
- request:
    body: '{"changes": [{"add": {"records": [{"name": "orig.testfqdn.example.com.",
      "data": "challengetoken", "type": "TXT", "ttl": 3600}]}}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '130'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.3
    method: PATCH
    uri: https://api.scaleway.com/domain/v2beta1/dns-zones/example.com/records
  response:
    body:
      string: '{"records":[{"id":"43bf4176-dbde-4b99-87c0-b20f9218d335","data":"\"challengetoken\"","name":"orig.testfqdn","priority":0,"ttl":3600,"type":"TXT","comment":null}]}'
    headers:
      content-length:
      - '162'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      date:
      - Wed, 19 Feb 2025 20:30:16 GMT
      server:
      - Scaleway API Gateway (fr-par-3;edge02)
      strict-transport-security:
      - max-age=63072000
      x-content-type-options:
      - nosniff
      x-frame-options:
      - DENY
      x-request-id:
      - 114e5122-6d4d-4842-a1db-45c67ce3b1f6
    status:
      code: 200
      message: OK
- request:
    body: 'null'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '4'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.3
    method: GET
    uri: https://api.scaleway.com/domain/v2beta1/dns-zones/example.com/records
  response:
    body:
      string: '{"total_count":20,"records":[{"id":"99f36c78-379a-49aa-bd9e-c31729cb7835","data":"ns1.dom.scw.cloud.","name":"","priority":0,"ttl":1800,"type":"NS","comment":null},{"id":"8c1f9e92-8b3e-45bb-b02f-3d7b79d26fb7","data":"ns0.dom.scw.cloud.","name":"","priority":0,"ttl":1800,"type":"NS","comment":null},{"id":"3f5f1a92-c9e1-4e1d-a880-8e97624302a2","data":"\"challengetoken1\"","name":"_acme-challenge.createrecordset","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"fd69310f-9eca-4b15-8249-5df208bac537","data":"\"challengetoken2\"","name":"_acme-challenge.createrecordset","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"dbd0420f-f1cb-4d60-832f-5f5a047d5813","data":"\"challengetoken2\"","name":"_acme-challenge.deleterecordinset","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"59a85922-293f-41dc-9335-3fcbb2a37d41","data":"\"challengetoken\"","name":"_acme-challenge.fqdn","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"3fd6c397-186b-4d6a-a05f-4d570776e7d9","data":"\"challengetoken\"","name":"_acme-challenge.full.example.com","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"49bf9db6-d7db-47f9-b31a-ecdc6d587633","data":"\"challengetoken1\"","name":"_acme-challenge.listrecordset","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"1eef9f9f-48bf-41de-892d-b3378d3927f5","data":"\"challengetoken2\"","name":"_acme-challenge.listrecordset","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"63d4bddb-ac82-4028-831b-54d06831108a","data":"\"challengetoken\"","name":"_acme-challenge.noop","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"f9ebaf3b-6483-478e-8abd-45107f967cea","data":"\"challengetoken\"","name":"_acme-challenge.test","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"e7bc35b1-eedd-4a31-95c4-462dfca87975","data":"docs.example.com.example.com.","name":"docs","priority":0,"ttl":3600,"type":"CNAME","comment":null},{"id":"f1a347f3-1435-432f-84ae-e3bc381e0b1b","data":"127.0.0.1","name":"localhost","priority":0,"ttl":3600,"type":"A","comment":null},{"id":"bc4a585d-b962-4177-8dca-559e044d7b1e","data":"\"updated\"","name":"orig.nameonly.test","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"43bf4176-dbde-4b99-87c0-b20f9218d335","data":"\"challengetoken\"","name":"orig.testfqdn","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"15a30fdf-b653-4866-ba4a-f3c8c0ec7ad6","data":"\"challengetoken\"","name":"random.fqdntest","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"5cdc2e97-c20d-4c50-baff-80cef0c9a222","data":"\"challengetoken\"","name":"random.fulltest.example.com","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"52d2cfdb-fe45-40b2-8d09-33904d9657c8","data":"\"challengetoken\"","name":"random.test","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"f0bb05e9-2aa3-4e6a-9dd0-b4a7d660957c","data":"\"ttlshouldbe3600\"","name":"ttl.fqdn","priority":0,"ttl":3600,"type":"TXT","comment":null},{"id":"2de6fdf4-8904-4452-8884-9617b0eeee68","data":"\"challengetoken\"","name":"updated.test","priority":0,"ttl":3600,"type":"TXT","comment":null}]}'
    headers:
      content-length:
      - '3108'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      date:
      - Wed, 19 Feb 2025 20:30:16 GMT
      server:
      - Scaleway API Gateway (fr-par-3;edge03)
      strict-transport-security:
      - max-age=63072000
      x-content-type-options:
      - nosniff
      x-frame-options:
      - DENY
      x-request-id:
      - 1b804eb8-06f9-47d1-8506-a20c4baf54a9
    status:
      code: 200
      message: OK
- request:
    body: '{"changes": [{"set": {"id": "43bf4176-dbde-4b99-87c0-b20f9218d335", "records":
      [{"name": "updated.testfqdn.example.com.", "data": "challengetoken", "type":
      "TXT", "ttl": 3600}]}}]}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Connection:
      - keep-alive
      Content-Length:
      - '179'
      Content-Type:
      - application/json
      User-Agent:
      - python-requests/2.32.3
    method: PATCH
    uri: https://api.scaleway.com/domain/v2beta1/dns-zones/example.com/records
  response:
    body:
      string: '{"records":[{"id":"43bf4176-dbde-4b99-87c0-b20f9218d335","data":"\"challengetoken\"","name":"updated.testfqdn","priority":0,"ttl":3600,"type":"TXT","comment":null}]}'
    headers:
      content-length:
      - '165'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      date:
      - Wed, 19 Feb 2025 20:30:16 GMT
      server:
      - Scaleway API Gateway (fr-par-3;edge02)
      strict-transport-security:
      - max-age=63072000
      x-content-type-options:
      - nosniff
      x-frame-options:
      - DENY
      x-request-id:
      - 240efdf1-1ac6-4c86-804f-92bf08138220
    status:
      code: 200
      message: OK
version: 1
